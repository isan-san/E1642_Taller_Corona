Anterior
<script>var renderPairs="",texturesIds="";const dataUrl="https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/json_pares.txt";var currentTextureUid=[],isShapeButtons=!1,isTextureButtons=!1,shapeNameRef="5264",textureNameRef="000",uIdRef="";const model=document.getElementById("web-model");var updateTextureFunction;loadClient("a29f4e63121b4a79afcbafa9637b5c3f");var listOfGroups=["otros","bowls","platos","vasos","bandejas","tazas"],shapeGroupRef="vasos",shapeButtonsPairs=[],isGroupButtons=!1;const setShapeNameRef=a=>{if(shapeNameRef=a,shapeNameRef){const a=renderPairs.filter(a=>a.shape==shapeNameRef);a[0]&&(setSrc(a),loadTitles(),reloadClient(a))}},setSrc=a=>{if(a[0].UID)model.src=`https://sketchfab.com/models/${a[0].UID}/embed?autostart=1`,shapeGroupRef=a[0].group,createOtherMedia(0);else throw"Unable to set new model source"},reloadClient=a=>{if(a[0].UID){uIdRef=a[0].UID;const b=document.getElementById("model-canvas");b.style.display="none",b.style.display="block",loadClient(uIdRef)}else throw"Unable to reload client"},loadTitles=()=>{document.getElementById("shape-name").innerText=shapeNameRef,document.getElementById("texture-name").innerText=textureNameRef,document.getElementById("group-name").innerText=shapeGroupRef,document.getElementById("main-name").innerText=shapeNameRef},createTempDiv=()=>{const a=document.createElement("DIV");return a.style.display="flex",a.style.flexDirection="column",a.style.justifyContent="center",a.style.alignItems="center",a},createShapeButton=a=>{const b=document.createElement("BUTTON");b.style.backgroundColor="transparent",b.style.border="none";const c=document.createElement("IMG");return c.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${a}.png`,c.style.height="9.5vh",c.style.maxWidth="none",b.onclick=()=>setShapeNameRef(a),b.appendChild(c),b},renderShapeButtons=a=>{const b=document.getElementById("shapes-buttons");b.style.scrollSnapType="x mandatory";const c=shapeButtonsPairs.filter(b=>b.group==a);b.innerHTML="",c.forEach(a=>{b.appendChild(a.element)})},createGroupsButtons=()=>{const a=document.getElementById("shapes-groups");listOfGroups.forEach(b=>{const c=document.createElement("BUTTON");c.innerText=b,c.onclick=()=>renderShapeButtons(b),a.appendChild(c)}),isGroupButtons=!0},constructShapeButtons=()=>{renderPairs.forEach(a=>{const b=createTempDiv();b.style.width="30vw",b.style.height="100%",b.style.scrollSnapAlign="center";const c=createShapeButton(a.shape);b.appendChild(c),shapeButtonsPairs.push({group:a.group,element:b})}),renderShapeButtons(shapeGroupRef),isShapeButtons=!0};createTextureButton=a=>{const b=document.createElement("BUTTON");return b.style.backgroundImage=`url('https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/iconos_texturas/${a}.png')`,b.style.backgroundSize=`${"40px"} ${"40px"}`,b.style.height="40px",b.style.width="40px",b.style.border="none",b.style.borderRadius="50%",b.onclick=()=>updateTextureFunction(a),b};const constructTextureButtons=()=>{let a=document.getElementById("texture-buttons");a.innerHTML="",texturesIds.forEach(b=>{const c=createTempDiv(),d=createTextureButton(b);c.appendChild(d),a.appendChild(c)}),isTextureButtons=!0},createOtherMedia=a=>{const b=document.getElementById("context-images");b.innerHTML="";const c=document.getElementById("messurment-images");c.innerHTML="";const d=document.createElement("IMG");d.id="context-image";const e=document.createElement("IMG");e.id="messurment-image",d.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_context${a}.png`,e.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_messurment${a}.png`,d.style.objectFit="cover",d.style.height="15vh",d.style.maxWidth="none",d.style.width="100%",e.style.objectFit="cover",e.style.height="15vh",e.style.maxWidth="none",e.style.width="100%";const f=createTempDiv();f.style.maxHeight="100%",f.style.minWidth="100%",f.appendChild(d);const g=createTempDiv();g.style.maxHeight="100%",g.style.minWidth="100%",g.appendChild(e),b.appendChild(f),c.appendChild(g)};for(let a=0;3>a;a++){const b=document.getElementById(`set-context-image-${a}`);b.onclick=()=>{document.getElementById("context-image").src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_context${a}.png`;for(let a=0;3>a;a++)document.getElementById(`set-context-image-${a}`).style.backgroundColor="#c9c9c9";b.style.backgroundColor="#332b17"};const c=document.getElementById(`set-messurment-image-${a}`);c.onclick=()=>{document.getElementById("messurment-image").src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_messurment${a}.png`;for(let a=0;3>a;a++)document.getElementById(`set-messurment-image-${a}`).style.backgroundColor="#c9c9c9";c.style.backgroundColor="#332b17"}}const getData=()=>{fetch(dataUrl).then(a=>a.text()).then(a=>{const b=JSON.parse(a);renderPairs=b.pairs,texturesIds=b.texturesIds,isShapeButtons||constructShapeButtons(),isTextureButtons||constructTextureButtons()})};function loadClient(a){var b=new Sketchfab("1.12.1",model);b.init(a,{success:function(a){a.start(()=>{a.addEventListener("viewerready",function(){model.style.opacity="100%",createOtherMedia(0),isGroupButtons||createGroupsButtons(),isShapeButtons||isTextureButtons||getData(),a.getTextureList(function(a,b){if(!a){const a=[...b];let c=[];a.forEach(a=>{a.name.includes("_COL")?c[0]=a:a.name.includes("_ROU")?c[1]=a:a.name.includes("_NRM")?c[2]=a:c[3]=a}),currentTextureUid=c.map(a=>a.uid)}}),updateTextureFunction=b=>{const c=["COL","ROU","NRM"];for(let d=0;3>d;d++)a.updateTexture(`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/texturas/${shapeNameRef}/${shapeNameRef}_${b}_${c[d]}.jpg`,currentTextureUid[d],function(){textureNameRef=b,loadTitles()})}})})},error:function(){console.log("Viewer error")},ui_watermark:0,ui_controls:0,ui_loading:0,ui_inspector:0,ui_infos:0,ui_general_controls:0,ui_stop:0,ui_fullscreen:0,dnt:0,ui_start:0})}</script>
Anterior
<script>var renderPairs="",texturesIds="";const dataUrl="https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/json_pares.txt";var currentTextureUid=[],isShapeButtons=!1,isTextureButtons=!1,shapeNameRef="5264",textureNameRef="000",uIdRef="";const model=document.getElementById("web-model");var updateTextureFunction;loadClient("a29f4e63121b4a79afcbafa9637b5c3f");var listOfGroups=["otros","bowls","platos","vasos","bandejas","tazas"],shapeGroupRef="vasos",shapeButtonsPairs=[],isGroupButtons=!1;const setShapeNameRef=a=>{if(shapeNameRef=a,shapeNameRef){const a=renderPairs.filter(a=>a.shape==shapeNameRef);a[0]&&(setSrc(a),loadTitles(),reloadClient(a))}},setSrc=a=>{if(a[0].UID)model.src=`https://sketchfab.com/models/${a[0].UID}/embed?autostart=1`,shapeGroupRef=a[0].group,createOtherMedia(0);else throw"Unable to set new model source"},reloadClient=a=>{if(a[0].UID){uIdRef=a[0].UID;const b=document.getElementById("model-canvas");b.style.display="none",b.style.display="block",loadClient(uIdRef)}else throw"Unable to reload client"},loadTitles=()=>{document.getElementById("shape-name").innerText=shapeNameRef,document.getElementById("texture-name").innerText=textureNameRef,document.getElementById("group-name").innerText=shapeGroupRef,document.getElementById("main-name").innerText=shapeNameRef},createTempDiv=()=>{const a=document.createElement("DIV");return a.style.display="flex",a.style.flexDirection="column",a.style.justifyContent="center",a.style.alignItems="center",a},createShapeButton=a=>{const b=document.createElement("BUTTON");b.style.backgroundColor="transparent",b.style.border="none";const c=document.createElement("IMG");return c.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${a}.png`,c.style.height="9.5vh",c.style.maxWidth="none",b.onclick=()=>setShapeNameRef(a),b.appendChild(c),b},renderShapeButtons=a=>{const b=document.getElementById("shapes-buttons");b.style.scrollSnapType="x mandatory";const c=shapeButtonsPairs.filter(b=>b.group==a);b.innerHTML="",c.forEach(a=>{b.appendChild(a.element)})},createGroupsButtons=()=>{const a=document.getElementById("shapes-groups");listOfGroups.forEach(b=>{const c=document.createElement("BUTTON");c.innerText=b,c.onclick=()=>renderShapeButtons(b),a.appendChild(c)}),isGroupButtons=!0},constructShapeButtons=()=>{renderPairs.forEach(a=>{const b=createTempDiv();b.style.width="30vw",b.style.height="100%",b.style.scrollSnapAlign="center";const c=createShapeButton(a.shape);b.appendChild(c),shapeButtonsPairs.push({group:a.group,element:b})}),renderShapeButtons(shapeGroupRef),isShapeButtons=!0};createTextureButton=a=>{const b=document.createElement("BUTTON");return b.style.backgroundImage=`url('https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/iconos_texturas/${a}.jpg')`,b.style.backgroundSize=`${"40px"} ${"40px"}`,b.style.height="40px",b.style.width="40px",b.style.border="none",b.style.borderRadius="50%",b.onclick=()=>updateTextureFunction(a),b};const constructTextureButtons=()=>{let a=document.getElementById("texture-buttons");a.innerHTML="",texturesIds.forEach(b=>{const c=createTempDiv(),d=createTextureButton(b);c.appendChild(d),a.appendChild(c)}),isTextureButtons=!0},createOtherMedia=a=>{const b=document.getElementById("context-images");b.innerHTML="";const c=document.getElementById("messurment-images");c.innerHTML="";const d=document.createElement("IMG");d.id="context-image";const e=document.createElement("IMG");e.id="messurment-image",d.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_context${a}.png`,e.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_messurment${a}.png`,d.style.objectFit="cover",d.style.height="15vh",d.style.maxWidth="none",d.style.width="100%",e.style.objectFit="cover",e.style.height="15vh",e.style.maxWidth="none",e.style.width="100%";const f=createTempDiv();f.style.maxHeight="100%",f.style.minWidth="100%",f.appendChild(d);const g=createTempDiv();g.style.maxHeight="100%",g.style.minWidth="100%",g.appendChild(e),b.appendChild(f),c.appendChild(g)};for(let a=0;3>a;a++){const b=document.getElementById(`set-context-image-${a}`);b.onclick=()=>{document.getElementById("context-image").src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_context${a}.png`;for(let a=0;3>a;a++)document.getElementById(`set-context-image-${a}`).style.backgroundColor="#c9c9c9";b.style.backgroundColor="#332b17"};const c=document.getElementById(`set-messurment-image-${a}`);c.onclick=()=>{document.getElementById("messurment-image").src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_messurment${a}.png`;for(let a=0;3>a;a++)document.getElementById(`set-messurment-image-${a}`).style.backgroundColor="#c9c9c9";c.style.backgroundColor="#332b17"}}const getData=()=>{fetch(dataUrl).then(a=>a.text()).then(a=>{const b=JSON.parse(a);renderPairs=b.pairs,texturesIds=b.texturesIds,isShapeButtons||constructShapeButtons(),isTextureButtons||constructTextureButtons()})};function loadClient(a){var b=new Sketchfab("1.12.1",model);b.init(a,{success:function(a){a.start(()=>{a.addEventListener("viewerready",function(){model.style.opacity="100%",createOtherMedia(0),isGroupButtons||createGroupsButtons(),isShapeButtons||isTextureButtons||getData(),a.getTextureList(function(a,b){if(!a){const a=[...b];let c=[];a.forEach(a=>{a.name.includes("_COL")?c[0]=a:a.name.includes("_ROU")?c[1]=a:a.name.includes("_NRM")?c[2]=a:c[3]=a}),currentTextureUid=c.map(a=>a.uid)}}),updateTextureFunction=b=>{const c=["COL","ROU","NRM"];for(let d=0;3>d;d++)a.updateTexture(`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/texturas/${shapeNameRef}/${shapeNameRef}_${b}_${c[d]}.jpg`,currentTextureUid[d],function(){textureNameRef=b,loadTitles()})}})})},error:function(){console.log("Viewer error")},ui_watermark:0,ui_controls:0,ui_loading:0,ui_inspector:0,ui_infos:0,ui_general_controls:0,ui_stop:0,ui_fullscreen:0,dnt:0,ui_start:0})}</script>
Acutal
var renderPairs="",texturesIds="";const dataUrl="https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/json_pares.txt";var currentTextureUid=[],isShapeButtons=!1,isTextureButtons=!1,shapeNameRef="5264",textureNameRef="000",uIdRef="";const model=document.getElementById("web-model");var updateTextureFunction;loadClient("a29f4e63121b4a79afcbafa9637b5c3f");var listOfGroups=["Bandejas","Bebidas","Bowls","Complementos","Platos","Platos hondos"],shapeGroupRef="vasos",shapeButtonsPairs=[],isGroupButtons=!1;const setShapeNameRef=a=>{if(shapeNameRef=a,shapeNameRef){const a=renderPairs.filter(a=>a.shape==shapeNameRef);a[0]&&(setSrc(a),loadTitles(),reloadClient(a))}},setSrc=a=>{if(a[0].UID)model.src=`https://sketchfab.com/models/${a[0].UID}/embed?autostart=1`,shapeGroupRef=a[0].group,createOtherMedia(0);else throw"Unable to set new model source"},reloadClient=a=>{if(a[0].UID){uIdRef=a[0].UID;const b=document.getElementById("model-canvas");b.style.display="none",b.style.display="block",loadClient(uIdRef)}else throw"Unable to reload client"},loadTitles=()=>{document.getElementById("shape-name").innerText=shapeNameRef,document.getElementById("texture-name").innerText=textureNameRef,document.getElementById("group-name").innerText=shapeGroupRef,document.getElementById("main-name").innerText=shapeNameRef},createTempDiv=()=>{const a=document.createElement("DIV");return a.style.display="flex",a.style.flexDirection="column",a.style.justifyContent="center",a.style.alignItems="center",a},createShapeButton=a=>{const b=document.createElement("BUTTON");b.style.backgroundColor="transparent",b.style.border="none";const c=document.createElement("IMG");return c.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${a}.png`,c.style.height="9.5vh",c.style.maxWidth="none",b.onclick=()=>setShapeNameRef(a),b.appendChild(c),b},renderShapeButtons=a=>{const b=document.getElementById("shapes-buttons");b.style.scrollSnapType="x mandatory";const c=shapeButtonsPairs.filter(b=>b.group==a);b.innerHTML="",c.forEach(a=>{b.appendChild(a.element)})},createGroupsButtons=()=>{const a=document.getElementById("shapes-groups");listOfGroups.forEach(b=>{const c=document.createElement("BUTTON");c.innerText=b,c.onclick=()=>renderShapeButtons(b),a.appendChild(c)}),isGroupButtons=!0},constructShapeButtons=()=>{renderPairs.forEach(a=>{const b=createTempDiv();b.style.width="30vw",b.style.height="100%",b.style.scrollSnapAlign="center";const c=createShapeButton(a.shape);b.appendChild(c),shapeButtonsPairs.push({group:a.group,element:b})}),renderShapeButtons(shapeGroupRef),isShapeButtons=!0};createTextureButton=a=>{const b=document.createElement("BUTTON");return b.style.backgroundImage=`url('https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/iconos_texturas/${a}.jpg')`,b.style.backgroundSize=`${"40px"} ${"40px"}`,b.style.height="40px",b.style.width="40px",b.style.border="none",b.style.borderRadius="50%",b.onclick=()=>updateTextureFunction(a),b};const constructTextureButtons=()=>{let a=document.getElementById("texture-buttons");a.innerHTML="",texturesIds.forEach(b=>{const c=createTempDiv(),d=createTextureButton(b);c.appendChild(d),a.appendChild(c)}),isTextureButtons=!0},createOtherMedia=a=>{const b=document.getElementById("context-images");b.innerHTML="";const c=document.getElementById("messurment-images");c.innerHTML="";const d=document.createElement("IMG");d.id="context-image";const e=document.createElement("IMG");e.id="messurment-image",d.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_context${a}.png`,e.src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_messurment${a}.png`,d.style.objectFit="cover",d.style.height="15vh",d.style.maxWidth="none",d.style.width="100%",e.style.objectFit="cover",e.style.height="15vh",e.style.maxWidth="none",e.style.width="100%";const f=createTempDiv();f.style.maxHeight="100%",f.style.minWidth="100%",f.appendChild(d);const g=createTempDiv();g.style.maxHeight="100%",g.style.minWidth="100%",g.appendChild(e),b.appendChild(f),c.appendChild(g)};for(let a=0;3>a;a++){const b=document.getElementById(`set-context-image-${a}`);b.onclick=()=>{document.getElementById("context-image").src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_context${a}.png`;for(let a=0;3>a;a++)document.getElementById(`set-context-image-${a}`).style.backgroundColor="#c9c9c9";b.style.backgroundColor="#332b17"};const c=document.getElementById(`set-messurment-image-${a}`);c.onclick=()=>{document.getElementById("messurment-image").src=`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/recursos/recursos_formas/${shapeNameRef}_messurment${a}.png`;for(let a=0;3>a;a++)document.getElementById(`set-messurment-image-${a}`).style.backgroundColor="#c9c9c9";c.style.backgroundColor="#332b17"}}const getData=()=>{fetch(dataUrl).then(a=>a.text()).then(a=>{const b=JSON.parse(a);renderPairs=b.pairs,texturesIds=b.texturesIds,isShapeButtons||constructShapeButtons(),isTextureButtons||constructTextureButtons()})};function loadClient(a){var b=new Sketchfab("1.12.1",model);b.init(a,{success:function(a){a.start(()=>{a.addEventListener("viewerready",function(){model.style.opacity="100%",createOtherMedia(0),isGroupButtons||createGroupsButtons(),isShapeButtons||isTextureButtons||getData(),a.getTextureList(function(a,b){if(!a){const a=[...b];let c=[];a.forEach(a=>{a.name.includes("_COL")?c[0]=a:a.name.includes("_ROU")?c[1]=a:a.name.includes("_NRM")?c[2]=a:c[3]=a}),currentTextureUid=c.map(a=>a.uid)}}),updateTextureFunction=b=>{const c=["COL","ROU","NRM"];for(let d=0;3>d;d++)a.updateTexture(`https://vajillascorona.s3.sa-east-1.amazonaws.com/personalizador/texturas/${shapeNameRef}/${shapeNameRef}_${b}_${c[d]}.jpg`,currentTextureUid[d],function(){textureNameRef=b,loadTitles()})}})})},error:function(){console.log("Viewer error")},ui_watermark:0,ui_controls:0,ui_loading:0,ui_inspector:0,ui_infos:0,ui_general_controls:0,ui_stop:0,ui_fullscreen:0,dnt:0,ui_start:0})}